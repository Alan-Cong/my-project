<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>项目展示 - 刘帅</title>
  <!-- 响应式视口 -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- 字体 -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
  <!-- 外部CSS样式 -->
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <!-- ======= 导航栏 ======= -->
  <nav class="navbar">
    <div class="logo">遥乡呼影文化传媒</div>
    <div class="nav-links">
      <a href="#about-project">关于项目</a>
      <a href="#progress">项目进展</a>
      <a href="#team-intro">团队介绍</a>
      <a href="#achievement">成就与影响</a>
      <a href="#contact">联系我们</a>
    </div>
  </nav>

  <!-- ======= 头部(Hero) ======= -->
  <header class="hero">
    <div class="hero-content">
      <h1>遥乡呼影文化传媒有限公司</h1>
      <p>创新与乡村振兴的力量</p>
      <p>项目负责人：<strong>刘帅</strong></p>
      <button class="hero-btn" onclick="showMoreInfo()">了解更多</button>
    </div>
  </header>

  <!-- ======= 关于项目 ======= -->
  <section class="section" id="about-project">
    <h2>关于项目</h2>
    <p>通过影像与设计赋能，提升乡村产品价值，助力农村电商与品牌建设。</p>
    <p>
      我们立足“地标产品 + 影像 + IP 升级”的电商助农模式，深耕乡村电商品牌建设已进入第三年。团队在乡村品牌营销、纪录片拍摄、设计包装等方面积累了丰富经验，携手南开大学展开深度合作，为地标农产品注入新的活力。
    </p>
  </section>

  <!-- ======= 项目进展 ======= -->
  <section class="section" id="progress">
    <h2>项目进展</h2>
    <div class="progress">
      <div class="progress-item">
        <h3>项目启动</h3>
        <p>自立项以来，深度调研“农产品同质化、低价竞争严重”难题，提出“乡村品牌升级”思路，展开影像拍摄、IP设计、渠道拓展等综合实践。</p>
      </div>
      <div class="progress-item">
        <h3>纪录片发布</h3>
        <p>拍摄《我在庄浪种苹果》纪录片，聚焦当地苹果产业的生态优势与文化底蕴，通过影像提升市场认知度与情感链接。</p>
      </div>
      <div class="progress-item">
        <h3>品牌合作</h3>
        <p>推出带有南开印记的庄浪苹果礼盒，瞄准校友市场，苹果由普通农产品摇身变为节日高端礼品，收购价几近翻倍。</p>
      </div>
    </div>
  </section>

  <!-- ======= 团队介绍 ======= -->
  <section class="section" id="team-intro">
    <h2>团队介绍</h2>
    <div class="team">
      <img src="liushuai.jpg" alt="刘帅">
      <div>
        <h3>刘帅</h3>
        <p>南开大学文学国家级实验教学示范中心教师，专注品牌策划、影像创作与乡村电商助农。</p>
      </div>
    </div>

    <div class="members">
      <div class="member">
        <img src="https://via.placeholder.com/120" alt="江和彦">
        <h4>江和彦</h4>
        <p>2021级南开大学汉语言文学，主要负责文案策划、项目对接等工作。</p>
      </div>
      <div class="member">
        <img src="https://via.placeholder.com/120" alt="徐紫妍">
        <h4>徐紫妍</h4>
        <p>2022级汉语言文学，负责市场调研、品牌推广活动策划。</p>
      </div>
      <div class="member">
        <img src="https://via.placeholder.com/120" alt="文杰">
        <h4>文杰</h4>
        <p>2022级汉语言文化学院，主要参与纪实影像拍摄与后期制作。</p>
      </div>
    </div>
  </section>

  <!-- ======= 成就与影响 ======= -->
  <section class="section" id="achievement">
    <h2>成就与影响</h2>
    <p>团队通过创新设计与精准营销，使庄浪苹果的市场价值翻倍，助力果农增收。</p>

    <div class="results">
      <div class="result-item">
        <h3>销售成绩</h3>
        <p>通过定制包装与设计，苹果售价由8-9元提升到13元以上，包装精修后最高至20元，订单量超过700单，校友市场反响热烈。</p>
      </div>
      <div class="result-item">
        <h3>社会影响</h3>
        <p>项目获得地方政府及南开大学领导肯定，入选全国社会实践优秀案例，多次在各级媒体平台展示。</p>
      </div>
    </div>

    <!-- “更多内容” 折叠区域 -->
    <button class="toggle-btn" onclick="toggleMore()">点击查看更多详细信息</button>
    <div class="more-info" id="more-info">
      <p>
        立项以来，我们往返庄浪多次，累计行程超过6000公里。影像作品在官媒与高校平台上线，播放量破数万，进一步提升农产品的品牌曝光度。
        经由南开大学品牌文化店渠道，团队设计包装的庄浪苹果，果农收购价几乎翻倍。校董会上，定制伴手礼得到校友广泛好评。  
      </p>
      <p>
        未来，我们将继续深化庄浪IP升级、拓宽地标产品范围，用影像铸就乡村品牌，为乡村振兴注入新动能。同时积极探索商业模式创新，与更多院校、社会平台合作，实现“品牌+文创”的可持续发展。
      </p>
    </div>
  </section>

  <!-- ======= 互动小游戏 ======= -->
  <section class="section" id="games">
    <h2>互动小游戏</h2>
    <p>我们准备了两个小游戏，欢迎体验：</p>

    <!-- 抓土豆小游戏 -->
    <h3>抓土豆小游戏</h3>
    <div id="potato-game-container">
      <canvas id="potatoGameCanvas" width="600" height="400"></canvas>
    </div>
    <script>
    (() => {
      const canvas = document.getElementById('potatoGameCanvas');
      const ctx = canvas.getContext('2d');
      const width = canvas.width;
      const height = canvas.height;
      const anchorX = width / 2;
      const anchorY = 0;
      const baseRopeLength = 20; // 抓钩绳子的初始长度
      const maxRopeLength = 380; // 抓钩绳子的最大伸长长度
      const swingRange = 60; // 抓钩摆动的最大角度（左右各60度）
      let angle = -swingRange; // 抓钩当前角度（初始从最左侧开始摆动）
      let angleSpeed = 2; // 抓钩摆动速度（度/帧）
      let ropeLength = baseRopeLength;
      let ropeState = 'idle'; // 'idle'：摆动中  'extending'：伸长  'retracting'：收回
      let score = 0;
      const potatoRadius = 15;
      let potatoes = [];
      let caughtPotato = null;
      let gameOver = false;
      let firstPlay = true;
      const numPotatoes = 5;

      // 初始化土豆
      function initPotatoes() {
          potatoes = [];
          for (let i = 0; i < numPotatoes; i++) {
              const px = Math.random() * (width - 2 * potatoRadius) + potatoRadius;
              const py = Math.random() * (350 - 280) + 280;
              potatoes.push({ x: px, y: py });
          }
      }
      initPotatoes();

      // 监听点击：放下抓钩或重新开始
      canvas.addEventListener('click', () => {
          if (gameOver) {
              // 若游戏已结束，点击重置
              score = 0;
              firstPlay = false;
              gameOver = false;
              angle = -swingRange;
              angleSpeed = Math.abs(angleSpeed);
              ropeLength = baseRopeLength;
              ropeState = 'idle';
              caughtPotato = null;
              initPotatoes();
              return;
          }
          if (ropeState !== 'idle') return; // 抓钩不闲置时，点击无效

          // 开始伸出抓钩
          ropeState = 'extending';
          if (firstPlay) {
              firstPlay = false;
          }
      });

      function update() {
          if (!gameOver) {
              if (ropeState === 'idle') {
                  // 抓钩左右摆动
                  angle += angleSpeed;
                  if (angle > swingRange || angle < -swingRange) {
                      angleSpeed = -angleSpeed;
                      angle = angle > swingRange ? swingRange : -swingRange;
                  }
              } else if (ropeState === 'extending') {
                  ropeLength += 4;
                  const angleRad = angle * Math.PI / 180;
                  const tipX = anchorX + Math.sin(angleRad) * ropeLength;
                  const tipY = anchorY + Math.cos(angleRad) * ropeLength;

                  // 检测是否抓到土豆
                  for (let i = 0; i < potatoes.length; i++) {
                      const dx = tipX - potatoes[i].x;
                      const dy = tipY - potatoes[i].y;
                      const dist = Math.sqrt(dx * dx + dy * dy);
                      if (dist <= potatoRadius) {
                          caughtPotato = potatoes[i];
                          potatoes.splice(i, 1);
                          ropeState = 'retracting';
                          break;
                      }
                  }

                  // 到达最大绳长，也开始收回
                  if (ropeLength >= maxRopeLength) {
                      ropeState = 'retracting';
                  }

              } else if (ropeState === 'retracting') {
                  // 携带土豆时收回速度较慢，否则较快
                  ropeLength -= caughtPotato ? 2 : 4;
                  if (ropeLength <= baseRopeLength) {
                      ropeLength = baseRopeLength;
                      ropeState = 'idle';
                      if (caughtPotato) {
                          score += 100;
                          caughtPotato = null;
                          if (potatoes.length === 0) {
                              gameOver = true;
                          }
                      }
                  } else if (caughtPotato) {
                      // 收回时土豆随抓钩移动
                      const angleRad = angle * Math.PI / 180;
                      caughtPotato.x = anchorX + Math.sin(angleRad) * ropeLength;
                      caughtPotato.y = anchorY + Math.cos(angleRad) * ropeLength;
                  }
              }
          }
      }

      function draw() {
          ctx.clearRect(0, 0, width, height);

          // 背景
          ctx.fillStyle = '#87CEEB';
          ctx.fillRect(0, 0, width, 350);
          ctx.fillStyle = '#8B4513';
          ctx.fillRect(0, 350, width, 50);

          // 土豆
          ctx.fillStyle = '#B8860B';
          for (const p of potatoes) {
              ctx.beginPath();
              ctx.arc(p.x, p.y, potatoRadius, 0, Math.PI * 2);
              ctx.fill();
          }

          // 如果有土豆被抓住
          if (caughtPotato) {
              ctx.beginPath();
              ctx.arc(caughtPotato.x, caughtPotato.y, potatoRadius, 0, Math.PI * 2);
              ctx.fill();
          }

          // 绘制绳子 + 钩子
          ctx.strokeStyle = '#000';
          ctx.lineWidth = 2;
          ctx.beginPath();
          ctx.moveTo(anchorX, anchorY);
          const angleRad = angle * Math.PI / 180;
          const tipX = anchorX + Math.sin(angleRad) * ropeLength;
          const tipY = anchorY + Math.cos(angleRad) * ropeLength;
          ctx.lineTo(tipX, tipY);
          ctx.stroke();

          ctx.fillStyle = '#000';
          ctx.beginPath();
          ctx.arc(tipX, tipY, 5, 0, Math.PI * 2);
          ctx.fill();

          // 分数
          ctx.fillStyle = '#000';
          ctx.font = '16px sans-serif';
          ctx.textAlign = 'start';
          ctx.fillText(`得分: ${score}`, 10, 20);

          // 提示文字
          if (firstPlay) {
              ctx.font = '18px sans-serif';
              ctx.textAlign = 'center';
              ctx.fillText('点击画面放下抓钩来抓土豆', width / 2, height / 2);
          }
          if (gameOver) {
              ctx.font = '18px sans-serif';
              ctx.textAlign = 'center';
              ctx.fillText('所有土豆都抓到了！点击重新开始。', width / 2, height / 2);
          }
      }

      function gameLoop() {
          update();
          draw();
          requestAnimationFrame(gameLoop);
      }
      gameLoop();

    })();
    </script>

    <!-- 除草小游戏 -->
    <h3>除草小游戏</h3>
    <div id="weed-game-container">
      <canvas id="weedGameCanvas" width="600" height="400"></canvas>
    </div>
    <script>
    (() => {
      const canvas = document.getElementById('weedGameCanvas');
      const ctx = canvas.getContext('2d');
      const width = canvas.width;
      const height = canvas.height;
      const groundY = 100; // 地平线位置
      const initialWeeds = 10;
      let weeds = [];
      let totalWeeds = initialWeeds;
      let clearedCount = 0;
      let gameOver = false;
      let firstPlay = true;
      let dragging = false;

      // 初始化杂草
      function initWeeds() {
          weeds = [];
          for (let i = 0; i < initialWeeds; i++) {
              const margin = 20;
              const wx = Math.random() * (width - 2 * margin) + margin;
              const wy = Math.random() * ((height - margin) - (groundY + margin)) + (groundY + margin);
              const wr = Math.random() * 10 + 10;
              weeds.push({ x: wx, y: wy, r: wr });
          }
          totalWeeds = weeds.length;
          clearedCount = 0;
          gameOver = false;
      }
      initWeeds();

      // 绘制
      function drawGame() {
          ctx.clearRect(0, 0, width, height);

          // 天空
          ctx.fillStyle = '#87CEEB';
          ctx.fillRect(0, 0, width, groundY);
          // 地面
          ctx.fillStyle = '#8B4513';
          ctx.fillRect(0, groundY, width, height - groundY);

          // 杂草
          ctx.fillStyle = '#228B22';
          for (const w of weeds) {
              ctx.beginPath();
              ctx.arc(w.x, w.y, w.r, 0, Math.PI * 2);
              ctx.fill();
          }

          // 显示进度
          ctx.fillStyle = '#000';
          ctx.font = '16px sans-serif';
          ctx.textAlign = 'start';
          ctx.fillText(`已清除 ${clearedCount}/${totalWeeds}`, 10, 20);

          // 提示
          if (firstPlay && !gameOver) {
              ctx.font = '18px sans-serif';
              ctx.fillText('点击杂草将其清除', 10, 40);
          }
          if (gameOver) {
              ctx.font = '18px sans-serif';
              ctx.textAlign = 'center';
              ctx.fillStyle = '#FFF';
              ctx.fillText('杂草已全部清除！点击重新开始。', width / 2, height / 2);
          }
      }

      drawGame();

      // 操作：mousedown、mousemove、mouseup
      canvas.addEventListener('mousedown', (e) => {
          const rect = canvas.getBoundingClientRect();
          const mouseX = e.clientX - rect.left;
          const mouseY = e.clientY - rect.top;
          if (gameOver) {
              initWeeds();
              drawGame();
              return;
          }

          let removed = false;
          for (let i = 0; i < weeds.length; i++) {
              const w = weeds[i];
              const dx = mouseX - w.x;
              const dy = mouseY - w.y;
              if (dx * dx + dy * dy <= w.r * w.r) {
                  weeds.splice(i, 1);
                  clearedCount++;
                  removed = true;
                  if (firstPlay) firstPlay = false;
                  if (weeds.length === 0) {
                      gameOver = true;
                  }
                  break;
              }
          }
          dragging = true;
          if (removed) {
              drawGame();
          }
      });

      canvas.addEventListener('mousemove', (e) => {
          if (!dragging || gameOver) return;
          const rect = canvas.getBoundingClientRect();
          const mouseX = e.clientX - rect.left;
          const mouseY = e.clientY - rect.top;

          let removed = false;
          for (let i = 0; i < weeds.length; i++) {
              const w = weeds[i];
              const dx = mouseX - w.x;
              const dy = mouseY - w.y;
              if (dx * dx + dy * dy <= w.r * w.r) {
                  weeds.splice(i, 1);
                  clearedCount++;
                  removed = true;
                  if (firstPlay) firstPlay = false;
                  if (weeds.length === 0) {
                      gameOver = true;
                  }
                  break;
              }
          }
          if (removed) {
              drawGame();
          }
      });

      canvas.addEventListener('mouseup', () => {
          dragging = false;
      });
    })();
    </script>
  </section>

  <!-- ======= 联系方式 ======= -->
  <section class="section" id="contact">
    <h2>联系我们</h2>
    <p>如需进一步了解或有合作意向，欢迎通过以下方式联系：</p>
    <p>Email：<strong>liushuai@nankai.edu.cn</strong></p>
    <p>电话：<strong>+86 22-xxxx-xxxx</strong></p>
    <p>地址：天津市南开区卫津路94号 南开大学文学院</p>
  </section>

  <!-- ======= 页脚 ======= -->
  <footer class="footer">
    <p>&copy; 2023 遥乡呼影文化传媒有限公司. All Rights Reserved.</p>
  </footer>
